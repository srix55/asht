<!doctype html><html lang=en-us dir=ltr><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content='
  EntityManager Try Catch
  #

EntityManager entityManager = null;
try {
    entityManager = EntityManagerFactoryProvider.getEntityManagerFactory().createEntityManager();
    entityManager.getTransaction().begin();
    // Your code here
    entityManager.getTransaction().commit();
} finally {
    if (entityManager != null && entityManager.isOpen())
        entityManager.close();
}

  JPA Query: named parameters
  #

TypedQuery<UserPermissionDao> query = entityManager.createQuery("select a from user_permission a " +
		"where a.permissionId = (select p.permissionId from permission p where p.permissionName = :permissionName) " +
		"and a.userId = :userId and a.tenantId = :tenantId", UserPermissionDao.class);
	query.setParameter("userId", userId);
	query.setParameter("tenantId", tenantId);
	query.setParameter("permissionName", pName);
	List<UserPermissionDao> userPermissions = query.getResultList();
	if (userPermissions == null || userPermissions.isEmpty())
	    return false;

  JPA Query: Native query
  #

Query query = entityManager.createNativeQuery("select is_permission(?1, ?2, ?3, ?4)");
                        query.setParameter(1, userId);
                        query.setParameter(2, resourceId);
                        query.setParameter(3, p.getPermissionId());
                        query.setParameter(4, tenantId);
int result = (int) query.getSingleResult();

  JPA Query: get count of records
  #

TypedQuery<Long> query = entityManager.createQuery("select count(a) from user_permission a", Long.class);
Long count = query.getResultList();

  JPA Query: positional parameters
  #

TypedQuery<PlayerNotesDao> query = em.createQuery("select a from player_notes a " +
            "where a.playerId = ?1 AND a.tenantId = ?2",
    PlayerNotesDao.class);
query.setParameter(1, playerId);
query.setParameter(2, tenantId);
List<PlayerNotesDao> playerNotes = query.getResultList();    

  RepoTest Impl
  #

@Tag(TestMarker.INTEGRATION_TEST)
class SetPlayerNameNotesRepoImplTest {

    @BeforeAll
    public static void setupAll() {
        if (repos.EntityManagerFactoryProvider.getEntityManagerFactory() == null) {
            EntityManagerFactoryProvider dbProvider = new EntityManagerFactoryProvider();
            repos.EntityManagerFactoryProvider.setEntityManagerFactory(dbProvider.getEntityManagerFactory());
        }
    }

    private EntityManager entityManager;
    @BeforeEach
    public void setUp() {
        entityManager = repos.EntityManagerFactoryProvider.getEntityManagerFactory().createEntityManager();
    }

    @AfterEach
    public void tearDown() {
        if (entityManager != null && entityManager.isOpen())
            entityManager.close();
    }
}

  Get All Records
  #

TypedQuery<LanguageCodeDao> query = entityManager.createQuery("select a from language_code a",
        LanguageCodeDao.class);
List<LanguageCodeDao> languages = query.getResultList();

  Get a single record
  #

EmployeeDao empDao = em.find(EmployeeDao.class, empId);
PlayerDao playerDao = em.find(PlayerDao.class, new PlayerId(playerId, tenantId));

  Overwrite a record
  #

entityManager.getTransaction().begin();
entityManager.merge(myDao);
entityManager.getTransaction().commit();

  Database default value
  #

@Column(name = "timestamp", insertable = false)
private Timestamp timestamp;
'><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="http://localhost:1313/docs/snippets/jpa/"><meta property="og:site_name" content="Signage Docs"><meta property="og:title" content="JPA"><meta property="og:description" content='EntityManager Try Catch # EntityManager entityManager = null; try { entityManager = EntityManagerFactoryProvider.getEntityManagerFactory().createEntityManager(); entityManager.getTransaction().begin(); // Your code here entityManager.getTransaction().commit(); } finally { if (entityManager != null && entityManager.isOpen()) entityManager.close(); } JPA Query: named parameters # TypedQuery<UserPermissionDao> query = entityManager.createQuery("select a from user_permission a " + "where a.permissionId = (select p.permissionId from permission p where p.permissionName = :permissionName) " + "and a.userId = :userId and a.tenantId = :tenantId", UserPermissionDao.class); query.setParameter("userId", userId); query.setParameter("tenantId", tenantId); query.setParameter("permissionName", pName); List<UserPermissionDao> userPermissions = query.getResultList(); if (userPermissions == null || userPermissions.isEmpty()) return false; JPA Query: Native query # Query query = entityManager.createNativeQuery("select is_permission(?1, ?2, ?3, ?4)"); query.setParameter(1, userId); query.setParameter(2, resourceId); query.setParameter(3, p.getPermissionId()); query.setParameter(4, tenantId); int result = (int) query.getSingleResult(); JPA Query: get count of records # TypedQuery<Long> query = entityManager.createQuery("select count(a) from user_permission a", Long.class); Long count = query.getResultList(); JPA Query: positional parameters # TypedQuery<PlayerNotesDao> query = em.createQuery("select a from player_notes a " + "where a.playerId = ?1 AND a.tenantId = ?2", PlayerNotesDao.class); query.setParameter(1, playerId); query.setParameter(2, tenantId); List<PlayerNotesDao> playerNotes = query.getResultList(); RepoTest Impl # @Tag(TestMarker.INTEGRATION_TEST) class SetPlayerNameNotesRepoImplTest { @BeforeAll public static void setupAll() { if (repos.EntityManagerFactoryProvider.getEntityManagerFactory() == null) { EntityManagerFactoryProvider dbProvider = new EntityManagerFactoryProvider(); repos.EntityManagerFactoryProvider.setEntityManagerFactory(dbProvider.getEntityManagerFactory()); } } private EntityManager entityManager; @BeforeEach public void setUp() { entityManager = repos.EntityManagerFactoryProvider.getEntityManagerFactory().createEntityManager(); } @AfterEach public void tearDown() { if (entityManager != null && entityManager.isOpen()) entityManager.close(); } } Get All Records # TypedQuery<LanguageCodeDao> query = entityManager.createQuery("select a from language_code a", LanguageCodeDao.class); List<LanguageCodeDao> languages = query.getResultList(); Get a single record # EmployeeDao empDao = em.find(EmployeeDao.class, empId); PlayerDao playerDao = em.find(PlayerDao.class, new PlayerId(playerId, tenantId)); Overwrite a record # entityManager.getTransaction().begin(); entityManager.merge(myDao); entityManager.getTransaction().commit(); Database default value # @Column(name = "timestamp", insertable = false) private Timestamp timestamp;'><meta property="og:locale" content="en_us"><meta property="og:type" content="website"><title>JPA | Signage Docs</title><link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=http://localhost:1313/docs/snippets/jpa/><link rel=stylesheet href=/book.min.a7616cf2799b58bddffce9438e31fdbfc6393687cfc0950a4a17cd1cce7e35f6.css integrity="sha256-p2Fs8nmbWL3f/OlDjjH9v8Y5NofPwJUKShfNHM5+NfY=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.8055c20c11bab2948f35a214cd3b34d0049bc9809df8d235cf0b2e0a5e3b3140.js integrity="sha256-gFXCDBG6spSPNaIUzTs00ASbyYCd+NI1zwsuCl47MUA=" crossorigin=anonymous></script><link rel=alternate type=application/rss+xml href=http://localhost:1313/docs/snippets/jpa/index.xml title="Signage Docs"></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>Signage Docs</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><input type=checkbox id=section-5fdf93cd314ec47df39ee998b89605b2 class=toggle>
<label for=section-5fdf93cd314ec47df39ee998b89605b2 class="flex justify-between"><a href=/docs/caching/>Caching</a></label><ul><li><a href=/docs/caching/strategy/>Strategy</a><ul></ul></li><li><a href=/docs/caching/data-structures/>Data Structures</a><ul></ul></li><li><a href=/docs/caching/scenarios/>Scenarios</a><ul></ul></li></ul></li><li><input type=checkbox id=section-4e5caaf6365b6353a122fd9e35c00b08 class=toggle>
<label for=section-4e5caaf6365b6353a122fd9e35c00b08 class="flex justify-between"><a href=/docs/dev/>Dev</a></label><ul><li><input type=checkbox id=section-93509623b841973ade448228f6a7245a class=toggle>
<label for=section-93509623b841973ade448228f6a7245a class="flex justify-between"><a href=/docs/dev/checklists/>Checklists</a></label><ul><li><input type=checkbox id=section-cd85b26f7f821c87127cc7c5ab2be114 class=toggle>
<label for=section-cd85b26f7f821c87127cc7c5ab2be114 class="flex justify-between"><a href=/docs/dev/checklists/flutter_ui/>Flutter UI</a></label><ul></ul></li></ul></li><li><input type=checkbox id=section-342701e3704fa08e1bf5178f22301bff class=toggle>
<label for=section-342701e3704fa08e1bf5178f22301bff class="flex justify-between"><a href=/docs/dev/gcp/>GCP Deploy</a></label><ul></ul></li><li><input type=checkbox id=section-62f6752f338b4e8972e68d919e388f1b class=toggle>
<label for=section-62f6752f338b4e8972e68d919e388f1b class="flex justify-between"><a href=/docs/dev/setup/>Local Setup</a></label><ul></ul></li><li><input type=checkbox id=section-8a7fd608f954780ffa4e272058ad1f8f class=toggle>
<label for=section-8a7fd608f954780ffa4e272058ad1f8f class="flex justify-between"><a href=/docs/dev/setup_fedora/>Local Setup (Fedora)</a></label><ul></ul></li><li><input type=checkbox id=section-a4a95fe5b98a6ee596e16de8c518475a class=toggle>
<label for=section-a4a95fe5b98a6ee596e16de8c518475a class="flex justify-between"><a href=/docs/dev/mac/>Mac</a></label><ul></ul></li></ul></li><li><input type=checkbox id=section-20d497b48986a632cbad2fbd9940c776 class=toggle>
<label for=section-20d497b48986a632cbad2fbd9940c776 class="flex justify-between"><a href=/docs/manual/>Dev Manual</a></label><ul></ul></li><li><input type=checkbox id=section-2f9d02b5146d32013b75800d20839f0c class=toggle>
<label for=section-2f9d02b5146d32013b75800d20839f0c class="flex justify-between"><a href=/docs/player_registration/>Player Registration</a></label><ul></ul></li><li><input type=checkbox id=section-401ec0f4fea4e1b33d16a959f93c7b54 class=toggle>
<label for=section-401ec0f4fea4e1b33d16a959f93c7b54 class="flex justify-between"><a href=/docs/cheats/>Cheats</a></label><ul><li><a href=/docs/cheats/http/>Http</a><ul></ul></li></ul></li><li><input type=checkbox id=section-b439b1f12afb2bdb787d45ce1eefc920 class=toggle checked>
<label for=section-b439b1f12afb2bdb787d45ce1eefc920 class="flex justify-between"><a href=/docs/snippets/>Snippets</a></label><ul><li><a href=/docs/snippets/jpa/ class=active>JPA</a><ul></ul></li><li><a href=/docs/snippets/rest/>Rest</a><ul></ul></li><li><a href=/docs/snippets/dart/>Dart</a><ul></ul></li></ul></li></ul><ul><li><a href=/posts/>Blog</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label><h3>JPA</h3><label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><ul><li><a href=#entitymanager-try-catch>EntityManager Try Catch</a></li><li><a href=#jpa-query-named-parameters>JPA Query: named parameters</a></li><li><a href=#jpa-query-native-query>JPA Query: Native query</a></li><li><a href=#jpa-query-get-count-of-records>JPA Query: get count of records</a></li><li><a href=#jpa-query-positional-parameters>JPA Query: positional parameters</a></li><li><a href=#repotest-impl>RepoTest Impl</a></li><li><a href=#get-all-records>Get All Records</a></li><li><a href=#get-a-single-record>Get a single record</a></li><li><a href=#overwrite-a-record>Overwrite a record</a></li><li><a href=#database-default-value>Database default value</a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h2 id=entitymanager-try-catch>EntityManager Try Catch
<a class=anchor href=#entitymanager-try-catch>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>EntityManager entityManager <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>    entityManager <span style=color:#f92672>=</span> EntityManagerFactoryProvider.<span style=color:#a6e22e>getEntityManagerFactory</span>().<span style=color:#a6e22e>createEntityManager</span>();
</span></span><span style=display:flex><span>    entityManager.<span style=color:#a6e22e>getTransaction</span>().<span style=color:#a6e22e>begin</span>();
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Your code here</span>
</span></span><span style=display:flex><span>    entityManager.<span style=color:#a6e22e>getTransaction</span>().<span style=color:#a6e22e>commit</span>();
</span></span><span style=display:flex><span>} <span style=color:#66d9ef>finally</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (entityManager <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>&amp;&amp;</span> entityManager.<span style=color:#a6e22e>isOpen</span>())
</span></span><span style=display:flex><span>        entityManager.<span style=color:#a6e22e>close</span>();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=jpa-query-named-parameters>JPA Query: named parameters
<a class=anchor href=#jpa-query-named-parameters>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>TypedQuery<span style=color:#f92672>&lt;</span>UserPermissionDao<span style=color:#f92672>&gt;</span> query <span style=color:#f92672>=</span> entityManager.<span style=color:#a6e22e>createQuery</span>(<span style=color:#e6db74>&#34;select a from user_permission a &#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>		<span style=color:#e6db74>&#34;where a.permissionId = (select p.permissionId from permission p where p.permissionName = :permissionName) &#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>		<span style=color:#e6db74>&#34;and a.userId = :userId and a.tenantId = :tenantId&#34;</span>, UserPermissionDao.<span style=color:#a6e22e>class</span>);
</span></span><span style=display:flex><span>	query.<span style=color:#a6e22e>setParameter</span>(<span style=color:#e6db74>&#34;userId&#34;</span>, userId);
</span></span><span style=display:flex><span>	query.<span style=color:#a6e22e>setParameter</span>(<span style=color:#e6db74>&#34;tenantId&#34;</span>, tenantId);
</span></span><span style=display:flex><span>	query.<span style=color:#a6e22e>setParameter</span>(<span style=color:#e6db74>&#34;permissionName&#34;</span>, pName);
</span></span><span style=display:flex><span>	List<span style=color:#f92672>&lt;</span>UserPermissionDao<span style=color:#f92672>&gt;</span> userPermissions <span style=color:#f92672>=</span> query.<span style=color:#a6e22e>getResultList</span>();
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> (userPermissions <span style=color:#f92672>==</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>||</span> userPermissions.<span style=color:#a6e22e>isEmpty</span>())
</span></span><span style=display:flex><span>	    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>;
</span></span></code></pre></div><h2 id=jpa-query-native-query>JPA Query: Native query
<a class=anchor href=#jpa-query-native-query>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>Query query <span style=color:#f92672>=</span> entityManager.<span style=color:#a6e22e>createNativeQuery</span>(<span style=color:#e6db74>&#34;select is_permission(?1, ?2, ?3, ?4)&#34;</span>);
</span></span><span style=display:flex><span>                        query.<span style=color:#a6e22e>setParameter</span>(1, userId);
</span></span><span style=display:flex><span>                        query.<span style=color:#a6e22e>setParameter</span>(2, resourceId);
</span></span><span style=display:flex><span>                        query.<span style=color:#a6e22e>setParameter</span>(3, p.<span style=color:#a6e22e>getPermissionId</span>());
</span></span><span style=display:flex><span>                        query.<span style=color:#a6e22e>setParameter</span>(4, tenantId);
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> result <span style=color:#f92672>=</span> (<span style=color:#66d9ef>int</span>) query.<span style=color:#a6e22e>getSingleResult</span>();
</span></span></code></pre></div><h2 id=jpa-query-get-count-of-records>JPA Query: get count of records
<a class=anchor href=#jpa-query-get-count-of-records>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>TypedQuery<span style=color:#f92672>&lt;</span>Long<span style=color:#f92672>&gt;</span> query <span style=color:#f92672>=</span> entityManager.<span style=color:#a6e22e>createQuery</span>(<span style=color:#e6db74>&#34;select count(a) from user_permission a&#34;</span>, Long.<span style=color:#a6e22e>class</span>);
</span></span><span style=display:flex><span>Long count <span style=color:#f92672>=</span> query.<span style=color:#a6e22e>getResultList</span>();
</span></span></code></pre></div><h2 id=jpa-query-positional-parameters>JPA Query: positional parameters
<a class=anchor href=#jpa-query-positional-parameters>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>TypedQuery<span style=color:#f92672>&lt;</span>PlayerNotesDao<span style=color:#f92672>&gt;</span> query <span style=color:#f92672>=</span> em.<span style=color:#a6e22e>createQuery</span>(<span style=color:#e6db74>&#34;select a from player_notes a &#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;where a.playerId = ?1 AND a.tenantId = ?2&#34;</span>,
</span></span><span style=display:flex><span>    PlayerNotesDao.<span style=color:#a6e22e>class</span>);
</span></span><span style=display:flex><span>query.<span style=color:#a6e22e>setParameter</span>(1, playerId);
</span></span><span style=display:flex><span>query.<span style=color:#a6e22e>setParameter</span>(2, tenantId);
</span></span><span style=display:flex><span>List<span style=color:#f92672>&lt;</span>PlayerNotesDao<span style=color:#f92672>&gt;</span> playerNotes <span style=color:#f92672>=</span> query.<span style=color:#a6e22e>getResultList</span>();    
</span></span></code></pre></div><h2 id=repotest-impl>RepoTest Impl
<a class=anchor href=#repotest-impl>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#a6e22e>@Tag</span>(TestMarker.<span style=color:#a6e22e>INTEGRATION_TEST</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SetPlayerNameNotesRepoImplTest</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@BeforeAll</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>setupAll</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (repos.<span style=color:#a6e22e>EntityManagerFactoryProvider</span>.<span style=color:#a6e22e>getEntityManagerFactory</span>() <span style=color:#f92672>==</span> <span style=color:#66d9ef>null</span>) {
</span></span><span style=display:flex><span>            EntityManagerFactoryProvider dbProvider <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> EntityManagerFactoryProvider();
</span></span><span style=display:flex><span>            repos.<span style=color:#a6e22e>EntityManagerFactoryProvider</span>.<span style=color:#a6e22e>setEntityManagerFactory</span>(dbProvider.<span style=color:#a6e22e>getEntityManagerFactory</span>());
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> EntityManager entityManager;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@BeforeEach</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>setUp</span>() {
</span></span><span style=display:flex><span>        entityManager <span style=color:#f92672>=</span> repos.<span style=color:#a6e22e>EntityManagerFactoryProvider</span>.<span style=color:#a6e22e>getEntityManagerFactory</span>().<span style=color:#a6e22e>createEntityManager</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@AfterEach</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>tearDown</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (entityManager <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>&amp;&amp;</span> entityManager.<span style=color:#a6e22e>isOpen</span>())
</span></span><span style=display:flex><span>            entityManager.<span style=color:#a6e22e>close</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=get-all-records>Get All Records
<a class=anchor href=#get-all-records>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>TypedQuery<span style=color:#f92672>&lt;</span>LanguageCodeDao<span style=color:#f92672>&gt;</span> query <span style=color:#f92672>=</span> entityManager.<span style=color:#a6e22e>createQuery</span>(<span style=color:#e6db74>&#34;select a from language_code a&#34;</span>,
</span></span><span style=display:flex><span>        LanguageCodeDao.<span style=color:#a6e22e>class</span>);
</span></span><span style=display:flex><span>List<span style=color:#f92672>&lt;</span>LanguageCodeDao<span style=color:#f92672>&gt;</span> languages <span style=color:#f92672>=</span> query.<span style=color:#a6e22e>getResultList</span>();
</span></span></code></pre></div><h2 id=get-a-single-record>Get a single record
<a class=anchor href=#get-a-single-record>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>EmployeeDao empDao <span style=color:#f92672>=</span> em.<span style=color:#a6e22e>find</span>(EmployeeDao.<span style=color:#a6e22e>class</span>, empId);
</span></span><span style=display:flex><span>PlayerDao playerDao <span style=color:#f92672>=</span> em.<span style=color:#a6e22e>find</span>(PlayerDao.<span style=color:#a6e22e>class</span>, <span style=color:#66d9ef>new</span> PlayerId(playerId, tenantId));
</span></span></code></pre></div><h2 id=overwrite-a-record>Overwrite a record
<a class=anchor href=#overwrite-a-record>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>entityManager.<span style=color:#a6e22e>getTransaction</span>().<span style=color:#a6e22e>begin</span>();
</span></span><span style=display:flex><span>entityManager.<span style=color:#a6e22e>merge</span>(myDao);
</span></span><span style=display:flex><span>entityManager.<span style=color:#a6e22e>getTransaction</span>().<span style=color:#a6e22e>commit</span>();
</span></span></code></pre></div><h2 id=database-default-value>Database default value
<a class=anchor href=#database-default-value>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#a6e22e>@Column</span>(name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;timestamp&#34;</span>, insertable <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>private</span> Timestamp timestamp;
</span></span></code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#entitymanager-try-catch>EntityManager Try Catch</a></li><li><a href=#jpa-query-named-parameters>JPA Query: named parameters</a></li><li><a href=#jpa-query-native-query>JPA Query: Native query</a></li><li><a href=#jpa-query-get-count-of-records>JPA Query: get count of records</a></li><li><a href=#jpa-query-positional-parameters>JPA Query: positional parameters</a></li><li><a href=#repotest-impl>RepoTest Impl</a></li><li><a href=#get-all-records>Get All Records</a></li><li><a href=#get-a-single-record>Get a single record</a></li><li><a href=#overwrite-a-record>Overwrite a record</a></li><li><a href=#database-default-value>Database default value</a></li></ul></li></ul></nav></div></aside></main></body></html>